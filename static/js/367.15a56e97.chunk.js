"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[367],{8367:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(2791),o=t(9434),r=t(131),c=t(5577),s=function(e){return e.contacts.items},i=function(e){var n=e.contacts;return{loading:n.loading,error:n.error}},u=function(e){return e.filter},l=t(4942),m=t(1413),d=t(8152),h={name:"",number:""},f="Phonebook_container__u4h5I",_="Phonebook_wrap__GhmmZ",b="Phonebook_title__ipARL",v="Phonebook_form__J23fu",p="Phonebook_label__Qzztg",x="Phonebook_input__8yiEQ",g="Phonebook_filter__X-pBt",j="Phonebook_list__S1mT+",C="Phonebook_item__HtWTq",k="Phonebook_btn__Ig2lg",N=t(3329),P=function(e){var n=e.onSubmit,t=(0,a.useState)((0,m.Z)({},h)),o=(0,d.Z)(t,2),r=o[0],c=o[1],s=function(e){var n=e.currentTarget,t=n.name,a=n.value;c((0,m.Z)((0,m.Z)({},r),{},(0,l.Z)({},t,a)))},i=r.name,u=r.number;return(0,N.jsxs)("form",{className:v,onSubmit:function(e){e.preventDefault(),n((0,m.Z)({},r)),c((0,m.Z)({},h))},children:[(0,N.jsx)("label",{className:p,children:(0,N.jsx)("input",{className:x,value:i,onChange:s,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Name"})}),(0,N.jsx)("label",{className:p,children:(0,N.jsx)("input",{className:x,value:u,onChange:s,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Pnone number"})}),(0,N.jsx)("button",{className:k,type:"submit",children:"Add contact"})]})},y=P;P.defaultProps={onSubmit:function(){}};var Z=function(e){var n=e.value,t=e.onChange;return(0,N.jsx)("input",{className:g,value:n,onChange:t,type:"text",name:"filter",placeholder:"Search"})},w=t(5984),S=function(e){var n=e.name,t=e.number,a=e.removeContact,o=e.id;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("li",{className:C,children:["".concat(n," : ").concat(t),(0,N.jsx)("button",{className:k,onClick:function(){return a(o)},children:"Delete"})]})})},A=function(e){var n=e.contacts,t=e.removeContact;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("ul",{className:j,children:null===n||void 0===n?void 0:n.map((function(e){return(0,N.jsx)(S,{id:e.id,name:e.name,number:e.number,removeContact:t},(0,w.x0)())}))})})},z=function(){var e=(0,o.v9)(s),n=(0,o.v9)(i).loading,t=(0,o.v9)(u),l=function(e,n){if(!n)return e;var t=n.toLowerCase();return e.filter((function(e){var n=e.name,a=e.number,o=n.toLowerCase(),r=a.toLowerCase();return o.includes(t)||r.includes(t)}))}(e,t),m=(0,o.I0)();(0,a.useEffect)((function(){m((0,r.yF)())}),[m]);return(0,N.jsx)("div",{className:f,children:(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("h1",{className:b,children:"My phonebook"}),(0,N.jsx)(y,{onSubmit:function(e){m((0,r.zS)(e))},contacts:e}),(0,N.jsx)("h2",{className:b,children:"Contacts"}),(0,N.jsx)(Z,{value:t,onChange:function(e){var n=e.target;m((0,c.T)(n.value))}}),!n&&(null===e||void 0===e?void 0:e.length)>0&&(0,N.jsx)(A,{contacts:l,removeContact:function(e){m((0,r.K7)(e))}}),n&&(0,N.jsx)("p",{children:"...Loading"})]})})}},5984:function(e,n,t){t.d(n,{x0:function(){return a}});var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,n){return e+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=367.15a56e97.chunk.js.map